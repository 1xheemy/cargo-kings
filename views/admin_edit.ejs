<h2>Edit User: <%= user.username %></h2>

<form method="POST" action="/admin/users/<%= user.id %>/edit">
  <input type="hidden" name="_csrf" value="<%= (typeof csrfToken !== 'undefined' ? csrfToken : '') %>">
  <label>Badge</label>
  <input name="badge" value="<%= user.badge %>" required class="form-control">

  <label>Username</label>
  <input name="username" value="<%= user.username %>" required class="form-control">

  <label>Role</label>
  <select name="role" class="form-control">
    <option value="trucker" <%= user.role === 'trucker' ? 'selected' : '' %> >Trucker</option>
    <option value="supervisor" <%= user.role === 'supervisor' ? 'selected' : '' %> <%= currentUserRole === 'executive' || currentUserRole === 'manager' ? '' : 'disabled' %> >Supervisor</option>
    <option value="manager" <%= user.role === 'manager' ? 'selected' : '' %> <%= currentUserRole === 'executive' ? '' : 'disabled' %> >Manager</option>
    <option value="executive" <%= user.role === 'executive' ? 'selected' : '' %> <%= currentUserRole === 'executive' ? '' : 'disabled' %> >Executive</option>
  </select>

  <label>Hours</label>
  <input name="hours" type="number" value="<%= user.hours %>" class="form-control">

  <label>Deliveries</label>
  <input name="deliveries" type="number" value="<%= user.deliveries %>" class="form-control">

  <label>New Password (leave blank to keep)</label>
  <input type="password" name="password" class="form-control">

  <button class="btn btn-primary">Save</button>
</form>